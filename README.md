Описание проекта
Простое веб-приложение на Go, демонстрирующее организацию базового HTTP-сервера с поддержкой SSL/TLS, журналирования запросов и экспорта метрик для мониторинга с использованием библиотеки Prometheus.

Приложение поддерживает два основных маршрута:

/: Главная страница («Hello World»).
/hello: Маршрут принимает GET-запросы с параметром name и возвращает приветствие.
Реализован также экспорт метрик через путь /metrics, полезный для интеграции с системами мониторинга типа Prometheus.

Структура проекта
Проект состоит из единственного пакета main, включающего главный исполняемый файл.

Основные компоненты:
Обработчики маршрутов: Реализовано два простых HTTP-обработчика.
Промежуточное ПО (middleware): Применяется middleware для логирования каждого запроса, включая метод, путь, IP-клиента и время обработки.
Сбор метрик: Используются стандартные счётчики Prometheus для учета числа запросов и среднего времени отклика.
Конфигурация: Приложение считывает настройки из YAML-конфигурационного файла, содержащего номер порта и опции SSL.
Установка и запуск
Чтобы запустить приложение, выполните следующие шаги:

Убедитесь, что у вас установлена версия Go ≥ 1.17.
Скопируйте или клонируйте репозиторий и перейдите в каталог проекта.
Создайте файл конфигурации (config.yaml) аналогично приведённому примеру.
Запустите приложение следующей командой:

go run main.go -f config.yaml
Пример файла конфигурации (config.yaml)

port: "8080"
ssl:
  enabled: true
  cert: "/path/to/certificate.pem"
  key: "/path/to/key.pem"
Отключите SSL, установив enabled: false, если он не нужен.

Требования
Go v1.17+.
Сертификат и приватный ключ для TLS (при использовании SSL).
Логирование
Каждый запрос к API записывается в журнал с указанием метода запроса, пути, адреса клиента и продолжительности обработки.

Сбор метрик
Метрики собираются автоматически посредством библиотеки Prometheus. Получить доступ к ним можно через /metrics. Подключение к данному адресу осуществляется через Prometheus, а результаты визуализируются инструментами наподобие Grafana.

Тестирование
Проверить работоспособность приложения можно следующим образом:


curl localhost:8080/
curl 'localhost:8080/hello?name=John'
Безопасность
Шифрование SSL/TLS применяется, если оно активировано в настройках. Рекомендуем включать этот режим в рабочей среде для защиты передаваемых данных.